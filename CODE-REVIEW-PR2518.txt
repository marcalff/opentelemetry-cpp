
# config.yaml code review

To process this code review, the suggestion is to proceed by areas.

Files to review are grouped per sections below.

## CODE

### Model

sdk/include/opentelemetry/sdk/configuration/configuration.h

#### Trace Model

sdk/include/opentelemetry/sdk/configuration/tracer_provider_configuration.h

sdk/include/opentelemetry/sdk/configuration/batch_span_processor_configuration.h
sdk/include/opentelemetry/sdk/configuration/console_span_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/otlp_grpc_span_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/otlp_http_span_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/simple_span_processor_configuration.h
sdk/include/opentelemetry/sdk/configuration/span_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/span_exporter_configuration_visitor.h
sdk/include/opentelemetry/sdk/configuration/span_limits_configuration.h
sdk/include/opentelemetry/sdk/configuration/span_processor_configuration.h
sdk/include/opentelemetry/sdk/configuration/span_processor_configuration_visitor.h
sdk/include/opentelemetry/sdk/configuration/zipkin_span_exporter_configuration.h

#### Metrics Model

sdk/include/opentelemetry/sdk/configuration/meter_provider_configuration.h

sdk/include/opentelemetry/sdk/configuration/aggregation_configuration.h
sdk/include/opentelemetry/sdk/configuration/base2_exponential_bucket_histogram_aggregation_configuration.h
sdk/include/opentelemetry/sdk/configuration/console_push_metric_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/default_aggregation_configuration.h
sdk/include/opentelemetry/sdk/configuration/drop_aggregation_configuration.h
sdk/include/opentelemetry/sdk/configuration/explicit_bucket_histogram_aggregation_configuration.h
sdk/include/opentelemetry/sdk/configuration/exporter_default_histogram_aggregation.h
sdk/include/opentelemetry/sdk/configuration/last_value_aggregation_configuration.h
sdk/include/opentelemetry/sdk/configuration/metric_producer_configuration.h
sdk/include/opentelemetry/sdk/configuration/metric_reader_configuration.h
sdk/include/opentelemetry/sdk/configuration/metric_reader_configuration_visitor.h
sdk/include/opentelemetry/sdk/configuration/otlp_grpc_push_metric_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/otlp_http_push_metric_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/periodic_metric_reader_configuration.h
sdk/include/opentelemetry/sdk/configuration/prometheus_pull_metric_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/pull_metric_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/pull_metric_exporter_configuration_visitor.h
sdk/include/opentelemetry/sdk/configuration/pull_metric_reader_configuration.h
sdk/include/opentelemetry/sdk/configuration/push_metric_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/push_metric_exporter_configuration_visitor.h
sdk/include/opentelemetry/sdk/configuration/selector_configuration.h
sdk/include/opentelemetry/sdk/configuration/stream_configuration.h
sdk/include/opentelemetry/sdk/configuration/sum_aggregation_configuration.h
sdk/include/opentelemetry/sdk/configuration/view_configuration.h

#### Log Model

sdk/include/opentelemetry/sdk/configuration/logger_provider_configuration.h

sdk/include/opentelemetry/sdk/configuration/batch_log_record_processor_configuration.h
sdk/include/opentelemetry/sdk/configuration/console_log_record_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/log_record_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/log_record_exporter_configuration_visitor.h
sdk/include/opentelemetry/sdk/configuration/log_record_limits_configuration.h
sdk/include/opentelemetry/sdk/configuration/log_record_processor_configuration.h
sdk/include/opentelemetry/sdk/configuration/log_record_processor_configuration_visitor.h
sdk/include/opentelemetry/sdk/configuration/otlp_grpc_log_record_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/otlp_http_log_record_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/simple_log_record_processor_configuration.h

#### Misc Model

sdk/include/opentelemetry/sdk/configuration/sampler_configuration.h
sdk/include/opentelemetry/sdk/configuration/propagator_configuration.h
sdk/include/opentelemetry/sdk/configuration/resource_configuration.h

sdk/include/opentelemetry/sdk/configuration/always_off_sampler_configuration.h
sdk/include/opentelemetry/sdk/configuration/always_on_sampler_configuration.h
sdk/include/opentelemetry/sdk/configuration/attribute_limits_configuration.h
sdk/include/opentelemetry/sdk/configuration/attributes_configuration.h
sdk/include/opentelemetry/sdk/configuration/detectors_configuration.h
sdk/include/opentelemetry/sdk/configuration/headers_configuration.h
sdk/include/opentelemetry/sdk/configuration/jaeger_remote_sampler_configuration.h
sdk/include/opentelemetry/sdk/configuration/otlp_http_encoding.h
sdk/include/opentelemetry/sdk/configuration/parent_based_sampler_configuration.h
sdk/include/opentelemetry/sdk/configuration/sampler_configuration_visitor.h
sdk/include/opentelemetry/sdk/configuration/string_array_configuration.h
sdk/include/opentelemetry/sdk/configuration/trace_id_ratio_based_sampler_configuration.h

#### Model extensions

sdk/include/opentelemetry/sdk/configuration/extension_log_record_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/extension_log_record_processor_configuration.h
sdk/include/opentelemetry/sdk/configuration/extension_pull_metric_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/extension_push_metric_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/extension_sampler_configuration.h
sdk/include/opentelemetry/sdk/configuration/extension_span_exporter_configuration.h
sdk/include/opentelemetry/sdk/configuration/extension_span_processor_configuration.h

### YAML parser

sdk/include/opentelemetry/sdk/configuration/invalid_schema_exception.h
sdk/include/opentelemetry/sdk/configuration/configuration_factory.h
sdk/include/opentelemetry/sdk/configuration/document.h
sdk/include/opentelemetry/sdk/configuration/document_node.h
sdk/include/opentelemetry/sdk/configuration/ryml_document.h
sdk/include/opentelemetry/sdk/configuration/ryml_document_node.h
sdk/include/opentelemetry/sdk/configuration/yaml_configuration_factory.h
sdk/src/configuration/document_node.cc
sdk/src/configuration/ryml_document.cc
sdk/src/configuration/ryml_document_node.cc
sdk/src/configuration/yaml_configuration_factory.cc
sdk/src/configuration/configuration_factory.cc

### SDK init

sdk/include/opentelemetry/sdk/init/configured_sdk.h
sdk/include/opentelemetry/sdk/init/console_log_record_exporter_builder.h
sdk/include/opentelemetry/sdk/init/console_push_metric_exporter_builder.h
sdk/include/opentelemetry/sdk/init/console_span_exporter_builder.h
sdk/include/opentelemetry/sdk/init/extension_log_record_exporter_builder.h
sdk/include/opentelemetry/sdk/init/extension_log_record_processor_builder.h
sdk/include/opentelemetry/sdk/init/extension_pull_metric_exporter_builder.h
sdk/include/opentelemetry/sdk/init/extension_push_metric_exporter_builder.h
sdk/include/opentelemetry/sdk/init/extension_sampler_builder.h
sdk/include/opentelemetry/sdk/init/extension_span_exporter_builder.h
sdk/include/opentelemetry/sdk/init/extension_span_processor_builder.h
sdk/include/opentelemetry/sdk/init/otlp_grpc_log_record_exporter_builder.h
sdk/include/opentelemetry/sdk/init/otlp_grpc_push_metric_exporter_builder.h
sdk/include/opentelemetry/sdk/init/otlp_grpc_span_exporter_builder.h
sdk/include/opentelemetry/sdk/init/otlp_http_log_record_exporter_builder.h
sdk/include/opentelemetry/sdk/init/otlp_http_push_metric_exporter_builder.h
sdk/include/opentelemetry/sdk/init/otlp_http_span_exporter_builder.h
sdk/include/opentelemetry/sdk/init/prometheus_pull_metric_exporter_builder.h
sdk/include/opentelemetry/sdk/init/registry.h
sdk/include/opentelemetry/sdk/init/sdk_builder.h
sdk/include/opentelemetry/sdk/init/text_map_propagator_builder.h
sdk/include/opentelemetry/sdk/init/unsupported_exception.h
sdk/include/opentelemetry/sdk/init/zipkin_span_exporter_builder.h
sdk/src/init/configured_sdk.cc
sdk/src/init/registry.cc
sdk/src/init/sdk_builder.cc

### Exporters

exporters/ostream/include/opentelemetry/exporters/ostream/console_log_record_builder.h
exporters/ostream/include/opentelemetry/exporters/ostream/console_push_metric_builder.h
exporters/ostream/include/opentelemetry/exporters/ostream/console_span_builder.h
exporters/ostream/src/console_log_record_builder.cc
exporters/ostream/src/console_push_metric_builder.cc
exporters/ostream/src/console_span_builder.cc
exporters/otlp/include/opentelemetry/exporters/otlp/otlp_grpc_log_record_builder.h
exporters/otlp/include/opentelemetry/exporters/otlp/otlp_grpc_push_metric_builder.h
exporters/otlp/include/opentelemetry/exporters/otlp/otlp_grpc_span_builder.h
exporters/otlp/include/opentelemetry/exporters/otlp/otlp_http_exporter_options.h
exporters/otlp/include/opentelemetry/exporters/otlp/otlp_http_log_record_builder.h
exporters/otlp/include/opentelemetry/exporters/otlp/otlp_http_push_metric_builder.h
exporters/otlp/include/opentelemetry/exporters/otlp/otlp_http_span_builder.h
exporters/otlp/src/otlp_grpc_log_record_builder.cc
exporters/otlp/src/otlp_grpc_push_metric_builder.cc
exporters/otlp/src/otlp_grpc_span_builder.cc
exporters/otlp/src/otlp_http_exporter_options.cc
exporters/otlp/src/otlp_http_log_record_builder.cc
exporters/otlp/src/otlp_http_push_metric_builder.cc
exporters/otlp/src/otlp_http_span_builder.cc
exporters/prometheus/include/opentelemetry/exporters/prometheus/prometheus_pull_builder.h
exporters/prometheus/src/prometheus_pull_builder.cc
exporters/zipkin/include/opentelemetry/exporters/zipkin/zipkin_builder.h
exporters/zipkin/src/zipkin_builder.cc

## TEST

### Unit tests

sdk/test/configuration/yaml_resource_test.cc
sdk/test/configuration/yaml_test.cc
sdk/test/configuration/yaml_trace_test.cc

### Examples

examples/yaml/anchors.yaml
examples/yaml/custom_sampler.cc
examples/yaml/custom_sampler.h
examples/yaml/custom_sampler_builder.cc
examples/yaml/custom_sampler_builder.h
examples/yaml/custom_span_exporter.cc
examples/yaml/custom_span_exporter.h
examples/yaml/custom_span_exporter_builder.cc
examples/yaml/custom_span_exporter_builder.h
examples/yaml/custom_span_processor.cc
examples/yaml/custom_span_processor.h
examples/yaml/custom_span_processor_builder.cc
examples/yaml/custom_span_processor_builder.h
examples/yaml/extensions.yaml
examples/yaml/kitchen-sink.yaml
examples/yaml/main.cc

## Misc

### CI

.github/workflows/ci.yml
.github/workflows/clang-tidy.yaml
.github/workflows/iwyu.yml
.iwyu.imp
ci/do_ci.sh
ci/install_ryml.sh

### BUILD

CMakeLists.txt
examples/CMakeLists.txt
examples/yaml/CMakeLists.txt
exporters/ostream/BUILD
exporters/ostream/CMakeLists.txt
exporters/otlp/BUILD
exporters/otlp/CMakeLists.txt
exporters/prometheus/BUILD
exporters/prometheus/CMakeLists.txt
exporters/zipkin/BUILD
exporters/zipkin/CMakeLists.txt
sdk/src/CMakeLists.txt
sdk/src/configuration/CMakeLists.txt
sdk/src/init/CMakeLists.txt
sdk/test/CMakeLists.txt
sdk/test/configuration/CMakeLists.txt

## Remaining files

sdk/include/opentelemetry/sdk/logs/batch_log_record_processor_options.h
sdk/include/opentelemetry/sdk/metrics/export/periodic_exporting_metric_reader_factory.h
sdk/include/opentelemetry/sdk/resource/resource.h
sdk/src/resource/resource.cc
